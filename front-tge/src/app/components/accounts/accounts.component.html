<div class="hero">
    <div class="container-xl">
        <div class="table-responsive">
            <div class="table-wrapper">
                <div class="table-title">
                    <div class="row">
                        <div class="col-sm-4 col-lg-4">
                            <div class="section-header">
                                <p id="font" class="mb-2">Liste des comptes</p>
                            </div>
                        </div>
                        <div class="col-sm-4 col-lg-4">
                            <div class="input-group mb-3">
                                <input type="text" id="recherche" class="form-control" placeholder="Rechercher..."
                                    [(ngModel)]="search" aria-label="Rechercher" aria-describedby="basic-addon2" />
                                <button class="button" type="button" (click)="getAllUsers()"><i
                                        class="bi bi-search"></i></button>
                            </div>
                        </div>
                        <div class="col-sm-4 col-lg-4">
                            <a routerLink="/addAccount" class="btn btn-success" data-toggle="modal"><i
                                    class="material-icons">&#xE147;</i> <span>Ajouter un nouveau compte</span></a>
                        </div>
                    </div>
                </div>
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Nom</th>
                            <th>Prénom</th>
                            <th>Pseudonyme</th>
                            <th>Email</th>
                            <th>Role</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let user of accounts | paginate : { itemsPerPage: itemsPerPage, currentPage: p }">
                            <td>{{ user.lastName }}</td>
                            <td>{{ user.firstName }}</td>
                            <td>{{ user.username }}</td>
                            <td>{{ user.email }}</td>
                            <td [ngClass]="Class(user.roles[0].name)">{{ role(user.roles[0].name) }}</td>
                            <td>
                                <a (click)="deleteUser(user)" class="delete col-lg-1" data-toggle="modal">
                                    <i class="material-icons" data-toggle="tooltip" title="Supprimer"
                                        style="cursor: pointer;">&#xE872;</i></a>
                            </td>
                        </tr>
                        <tr>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="clearfix row">
            <div class="col-lg-1"></div>
            <div class="hint-text col-lg-8">
                {{ accountsNumber }} <b></b> compte<span *ngIf="accountsNumber>1">s</span> <b></b> trouvé<span
                    *ngIf="accountsNumber>1">s</span>
            </div>
            <div class="col-lg-3">
                <pagination-controls (pageChange)="p = $event"></pagination-controls>
            </div>
        </div>
    </div>
</div>